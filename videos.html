<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <title>
    葫芦影视 - 葫芦影视
  </title>
  <meta name="keywords" content="葫芦影视,最新电影,电影大全,影视大全,在线电影,免费电影,电影在线观看,最新电视剧" />
  <meta name="description" content="">
  <meta name="author" content="plucky@echo.engineer">

  <link rel="shortcut icon" href="statics/logo.png" />
  <link rel="icon" href="statics/logo.png" type="image/png" />

  <meta name="renderer" content="webkit" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" href="statics/css/style.css" type="text/css" />

  <script type="text/javascript" src="statics/js/jquery.min.js"></script>
  <script type="text/javascript" src="statics/js/swiper-bundle.min.js"></script>
  <script type="text/javascript" src="js/dt.js"></script>
  <script type="text/javascript" src="statics/js/main.js?=2.1.4"></script>
  <script type="text/javascript" src="statics/js/common.js?=1.0.1"></script>
  <script type="text/javascript" src="statics/js/home.js?=0.0.2"></script>
  <script type="text/javascript" src="statics/js/history.js"></script>
  <script type="text/javascript" src="statics/js/clipboard.min.js"></script>
  <script type="text/javascript" src="statics/js/qrcode.min.js"></script>

  <script type="text/javascript">
    var vod_name = '最近访问';
    var vod_url = window.location.href;
    var vod_part = '1';
    var maccms = {
      "path": "",
      "mid": "1",
      "aid": "15",
      "mob_status": "0"
    };
  </script>

  

  
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?88985627cb863bd572118591247f1f26";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
  

</head>

    <body ontouchstart class="page">
        <header id="header" class="wrapper">
  <div class="header-content">
    <div class="content">
      <div class="brand">
        <a href="index.html" class="logo" title="葫芦影视">
          <img src="statics/images/index-logo-s.png" alt="葫芦影视" />
        </a>
      </div>
      <div class="nav-search">
        
        <div class="search-box">
  <input class="search-input ac_wd" id="txtKeywords" type="text" name="wd" autocomplete="off" placeholder="搜索电影、电视剧、综艺、动漫、演员" onfocus="this.placeholder=''" onblur="this.placeholder='搜索电影、电视剧、综艺、动漫、演员'">
  <div class="search-drop">
    <div class="drop-content-items ac_hot none">
      <div class="list-item list-item-title" style="display: none !important;">
        <span class="soupian-slogan">
          <a href="https://soupian.de/?url&amp;from=easydoc" target="_blank">
            找影视资源，就上
            <strong>
              搜片.com
            </strong>
          </a>
        </span>
        <strong>
          大家都在搜这些影片
        </strong>
      </div>
      <div class="search-tag">
        
        
        <a href="i/1528a6c.html" class="hot">
          <i class="icon-hot">
          </i>
          山河故人
        </a>
        
        <a href="i/f0358c3.html" class="hot">
          <i class="icon-hot">
          </i>
          汉武大帝
        </a>
        
        <a href="i/1a85282.html" class="hot">
          <i class="icon-hot">
          </i>
          漫长的季节
        </a>
        
        <a href="i/b377484.html" class="hot">
          <i class="icon-hot">
          </i>
          三体
        </a>
        
        <a href="i/43123c4.html" class="hot">
          <i class="icon-hot">
          </i>
          南海十三郎
        </a>
        
        <a href="i/801c9df.html" class="hot">
          <i class="icon-hot">
          </i>
          隐藏人物
        </a>
        
        <a href="i/0215b41.html" class="hot">
          <i class="icon-hot">
          </i>
          孟买酒店
        </a>
        
        <a href="i/875cf74.html" class="hot">
          <i class="icon-hot">
          </i>
          模仿游戏
        </a>
        
        <a href="i/892489d.html" class="hot">
          <i class="icon-hot">
          </i>
          误杀瞒天记
        </a>
        
        <a href="i/ae52d47.html" class="hot">
          <i class="icon-hot">
          </i>
          绿皮书
        </a>
        
      </div>
    </div>
  </div>
  <a href="https://soupian.de/" class="search-soupian" id="search-soupian" title="搜片" target="_blank" style="display: none!important;">
    <span class="soupian-btn">
      <img src="statics/images/soupian-logo.png">
      搜全网
    </span>
  </a>
  <button class="search-btn search-go">
    <i class="icon-search">
    </i>
  </button>
  <button class="cancel-btn">
    取消
  </button>
</div>
        
      </div>
      <div class="nav swiper">
  
  
  <ul class="nav-menu-items swiper-wrapper">
    <li class="nav-menu-item swiper-slide ">
      <a href="index.html" title="首页">
        <span class="nav-menu-item-name">
          首页
        </span>
      </a>
    </li>
    <li class="nav-menu-item swiper-slide ">
      <a href="movie.html" title="电影">
        <span class="nav-menu-item-name">
          电影
        </span>
      </a>
    </li>
    <li class="nav-menu-item swiper-slide ">
      <a href="tv.html" title="电视剧">
        <span class="nav-menu-item-name">
          电视剧
        </span>
      </a>
    </li>
    <li class="nav-menu-item swiper-slide ">
      <a href="anime.html" title="动漫">
        <span class="nav-menu-item-name">
          动漫
        </span>
      </a>
    </li>
    <li class="nav-menu-item swiper-slide ">
      <a href="about.html" title="关于本站">
        <i class="icon-app">
        </i>
        <span class="nav-menu-item-name">
          关于
        </span>
      </a>
    </li>
  </ul>
</div>
      <div class="header-module">
  <ul class="nav-menu-items">
    <li class="nav-menu-item drop">
      <span class="nav-menu-icon">
        <i class="icon-all">
        </i>
      </span>
      <div class="drop-content sub-block">
        <div class="drop-content-box grid-box">
          <ul class="drop-content-items grid-items">
            <li class="grid-item">
              <a href="index.html">
                <i class="icon-home">
                </i>
                <div class="grid-item-name" title="葫芦影视">
                  首页
                </div>
              </a>
            </li>
            <li class="grid-item">
              <a href="movie.html">
                <i class="icon-cate-dy">
                </i>
                <div class="grid-item-name" title="电影">
                  电影
                </div>
              </a>
            </li>
            <li class="grid-item">
              <a href="tv.html">
                <i class="icon-cate-ds">
                </i>
                <div class="grid-item-name" title="电视剧">
                  电视剧
                </div>
              </a>
            </li>
            <li class="grid-item">
              <a href="anime.html">
                <i class="icon-cate-dm">
                </i>
                <div class="grid-item-name" title="动漫">
                  动漫
                </div>
              </a>
            </li>
            <li class="grid-item grid-more">
              <a class="grid-more-link" href="videos" title="查看全部影片">
                <div class="grid-item-name">
                  全部影片
                </div>
              </a>
            </li>
            <li class="grid-item grid-more android">
              <a href="about.html" class="grid-more-link" title="葫芦影视">
                <div class="grid-item-name">
                  关于本站
                </div>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="shortcuts-m-overlay">
      </div>
    </li>
    <li class="nav-menu-item nav-menu-search">
      <i class="icon-search">
      </i>
    </li>
    <li class="space-line-bold">
    </li>
    <li class="nav-menu-item drop">
      <span class="nav-menu-icon">
        <i class="icon-watch-history">
        </i>
      </span>
      <div class="drop-content drop-history">
        <div class="drop-content-box">
          <ul class="drop-content-items" id="history">
            <li class="list-item list-item-title">
              <a href="" class="playlist historyclean">
                <i class="icon-clear">
                </i>
              </a>
              <strong>
                我的观影记录
              </strong>
            </li>
          </ul>
        </div>
      </div>
      <div class="shortcuts-m-overlay">
      </div>
    </li>
  </ul>
</div>
    </div>
  </div>
</header>
            <main id="main" class="wrapper">
  <script type="text/template" id="video_tpl">
    <?videos.forEach((video)=>{?>
    <div class="module-item">
        <div class="module-item-cover">
          <a href="<?=relative_path?><?=video.url?>" title="<?=video.name?>" class="module-item-pic">
            <img referrerpolicy="no-referrer" class="lazyload" data-src="<?=video.cover?>" src="<?=relative_path?>statics/images/loading.png" alt="<?=video.name?>">
            <div class="loading">
            </div>
          </a>
        </div>
        <div class="module-item-titlebox">
          <a href="<?=relative_path?><?=video.url?>" class="module-item-title" title="<?=video.name?>">
            <?=video.name?>
          </a>
        </div>
        <div class="module-item-text">
            <?=video.progress?>
        </div>
      </div>    
    <?});?>
  </script>
  <script type="text/template" id="page_tpl">
    <a href="javascript:onPageChange(0);" class="page-number page-previous" title="首页">
            首页
    </a>
    <a href="javascript:onPageChange(currentIndex-1);" class="page-number page-previous" title="上一页">
    上一页
    </a>
    <?for(var i=0; i<pages; i++){?>
    <a href="javascript:onPageChange(<?=i?>);" class="page-number page-select page-select-<?=i?> display" title="第<?=(i+1)?>页">
        <?=(i+1)?>
    </a>
    <?}?>
    <a href="javascript:onPageChange(currentIndex+1);" class="page-number page-next" title="下一页">
    下一页
    </a>
    <a href="javascript:onPageChange(<?=pages?>-1);" class="page-number page-next" title="尾页">
    尾页
    </a>
  </script>
  <div class="content">
    <div class="page-heading">
      <h1 class="page-title">
        影片库
      </h1>
      <div class="box">
        <div class="library-box library-box-first scroll-box">
          <div class="scroll-content">
            <div class="library-list">
              <a href="javascript:onTypeChanged('movie');" class="library-item library-item-type type-movie selected" title="电影片库">
                电影
              </a>
              <a href="javascript:onTypeChanged('tv');" class="library-item library-item-type type-tv" title="电视剧片库">
                电视剧
              </a>
              <a href="javascript:onTypeChanged('anime');" class="library-item library-item-type type-anime" title="动漫片库">
                动漫
              </a>
            </div>
          </div>
        </div>
        
        <div class="library-box scroll-box">
          <div class="scroll-content">
            <a class="library-item library-item-first item-tags item-tags-all selected" href="javascript:onTagChanged('');">
              全部剧情
            </a>
            <div class="library-list">
              
              <a class="library-item item-tags item-tags-剧情" href="javascript:onTagChanged('剧情');" title="剧情">
                剧情
              </a>
              
              <a class="library-item item-tags item-tags-喜剧" href="javascript:onTagChanged('喜剧');" title="喜剧">
                喜剧
              </a>
              
              <a class="library-item item-tags item-tags-动作" href="javascript:onTagChanged('动作');" title="动作">
                动作
              </a>
              
              <a class="library-item item-tags item-tags-爱情" href="javascript:onTagChanged('爱情');" title="爱情">
                爱情
              </a>
              
              <a class="library-item item-tags item-tags-科幻" href="javascript:onTagChanged('科幻');" title="科幻">
                科幻
              </a>
              
              <a class="library-item item-tags item-tags-动画" href="javascript:onTagChanged('动画');" title="动画">
                动画
              </a>
              
              <a class="library-item item-tags item-tags-悬疑" href="javascript:onTagChanged('悬疑');" title="悬疑">
                悬疑
              </a>
              
              <a class="library-item item-tags item-tags-惊悚" href="javascript:onTagChanged('惊悚');" title="惊悚">
                惊悚
              </a>
              
              <a class="library-item item-tags item-tags-警匪" href="javascript:onTagChanged('警匪');" title="警匪">
                警匪
              </a>
              
              <a class="library-item item-tags item-tags-恐怖" href="javascript:onTagChanged('恐怖');" title="恐怖">
                恐怖
              </a>
              
              <a class="library-item item-tags item-tags-犯罪" href="javascript:onTagChanged('犯罪');" title="犯罪">
                犯罪
              </a>
              
              <a class="library-item item-tags item-tags-同性" href="javascript:onTagChanged('同性');" title="同性">
                同性
              </a>
              
              <a class="library-item item-tags item-tags-音乐" href="javascript:onTagChanged('音乐');" title="音乐">
                音乐
              </a>
              
              <a class="library-item item-tags item-tags-歌舞" href="javascript:onTagChanged('歌舞');" title="歌舞">
                歌舞
              </a>
              
              <a class="library-item item-tags item-tags-传记" href="javascript:onTagChanged('传记');" title="传记">
                传记
              </a>
              
              <a class="library-item item-tags item-tags-历史" href="javascript:onTagChanged('历史');" title="历史">
                历史
              </a>
              
              <a class="library-item item-tags item-tags-战争" href="javascript:onTagChanged('战争');" title="战争">
                战争
              </a>
              
              <a class="library-item item-tags item-tags-西部" href="javascript:onTagChanged('西部');" title="西部">
                西部
              </a>
              
              <a class="library-item item-tags item-tags-奇幻" href="javascript:onTagChanged('奇幻');" title="奇幻">
                奇幻
              </a>
              
              <a class="library-item item-tags item-tags-冒险" href="javascript:onTagChanged('冒险');" title="冒险">
                冒险
              </a>
              
              <a class="library-item item-tags item-tags-灾难" href="javascript:onTagChanged('灾难');" title="灾难">
                灾难
              </a>
              
              <a class="library-item item-tags item-tags-武侠" href="javascript:onTagChanged('武侠');" title="武侠">
                武侠
              </a>
              
              <a class="library-item item-tags item-tags-古装" href="javascript:onTagChanged('古装');" title="古装">
                古装
              </a>
              
              <a class="library-item item-tags item-tags-纪录" href="javascript:onTagChanged('纪录');" title="纪录">
                纪录
              </a>
              
              <a class="library-item item-tags item-tags-运动" href="javascript:onTagChanged('运动');" title="运动">
                运动
              </a>
              
              <a class="library-item item-tags item-tags-青春偶像" href="javascript:onTagChanged('青春偶像');" title="青春偶像">
                青春偶像
              </a>
              
              <a class="library-item item-tags item-tags-都市" href="javascript:onTagChanged('都市');" title="都市">
                都市
              </a>
              
              <a class="library-item item-tags item-tags-情景" href="javascript:onTagChanged('情景');" title="情景">
                情景
              </a>
              
              <a class="library-item item-tags item-tags-短片" href="javascript:onTagChanged('短片');" title="短片">
                短片
              </a>
              
            </div>
          </div>
        </div>
        <div class="library-box scroll-box">
          <div class="scroll-content">
            <a class="library-item library-item-first item-areas item-areas-all selected" href="javascript:onAreaChanged('');">
              全部地区
            </a>
            <div class="library-list">
              
              <a class="library-item item-areas item-areas-中国大陆" href="javascript:onAreaChanged('中国大陆');" title="中国大陆">
                中国大陆
              </a>
              
              <a class="library-item item-areas item-areas-中国香港" href="javascript:onAreaChanged('中国香港');" title="中国香港">
                中国香港
              </a>
              
              <a class="library-item item-areas item-areas-中国台湾" href="javascript:onAreaChanged('中国台湾');" title="中国台湾">
                中国台湾
              </a>
              
              <a class="library-item item-areas item-areas-美国" href="javascript:onAreaChanged('美国');" title="美国">
                美国
              </a>
              
              <a class="library-item item-areas item-areas-韩国" href="javascript:onAreaChanged('韩国');" title="韩国">
                韩国
              </a>
              
              <a class="library-item item-areas item-areas-日本" href="javascript:onAreaChanged('日本');" title="日本">
                日本
              </a>
              
              <a class="library-item item-areas item-areas-泰国" href="javascript:onAreaChanged('泰国');" title="泰国">
                泰国
              </a>
              
              <a class="library-item item-areas item-areas-新加坡" href="javascript:onAreaChanged('新加坡');" title="新加坡">
                新加坡
              </a>
              
              <a class="library-item item-areas item-areas-马来西亚" href="javascript:onAreaChanged('马来西亚');" title="马来西亚">
                马来西亚
              </a>
              
              <a class="library-item item-areas item-areas-印度" href="javascript:onAreaChanged('印度');" title="印度">
                印度
              </a>
              
              <a class="library-item item-areas item-areas-英国" href="javascript:onAreaChanged('英国');" title="英国">
                英国
              </a>
              
              <a class="library-item item-areas item-areas-法国" href="javascript:onAreaChanged('法国');" title="法国">
                法国
              </a>
              
              <a class="library-item item-areas item-areas-加拿大" href="javascript:onAreaChanged('加拿大');" title="加拿大">
                加拿大
              </a>
              
              <a class="library-item item-areas item-areas-西班牙" href="javascript:onAreaChanged('西班牙');" title="西班牙">
                西班牙
              </a>
              
              <a class="library-item item-areas item-areas-俄罗斯" href="javascript:onAreaChanged('俄罗斯');" title="俄罗斯">
                俄罗斯
              </a>
              
              <a class="library-item item-areas item-areas-澳大利亚" href="javascript:onAreaChanged('澳大利亚');" title="澳大利亚">
                澳大利亚
              </a>
              
              <a class="library-item item-areas item-areas-其它" href="javascript:onAreaChanged('其它');" title="其它">
                其它
              </a>
              
            </div>
          </div>
        </div>
        <div class="library-box scroll-box">
          <div class="scroll-content">
            <a class="library-item library-item-first item-langs item-langs-all selected" href="javascript:onLangChanged('');">
              全部语言
            </a>
            <div class="library-list">
              
              <a class="library-item item-langs item-langs-国语" href="javascript:onLangChanged('国语');" title="国语">
                国语
              </a>
              
              <a class="library-item item-langs item-langs-英语" href="javascript:onLangChanged('英语');" title="英语">
                英语
              </a>
              
              <a class="library-item item-langs item-langs-粤语" href="javascript:onLangChanged('粤语');" title="粤语">
                粤语
              </a>
              
              <a class="library-item item-langs item-langs-闽南语" href="javascript:onLangChanged('闽南语');" title="闽南语">
                闽南语
              </a>
              
              <a class="library-item item-langs item-langs-韩语" href="javascript:onLangChanged('韩语');" title="韩语">
                韩语
              </a>
              
              <a class="library-item item-langs item-langs-日语" href="javascript:onLangChanged('日语');" title="日语">
                日语
              </a>
              
              <a class="library-item item-langs item-langs-法语" href="javascript:onLangChanged('法语');" title="法语">
                法语
              </a>
              
              <a class="library-item item-langs item-langs-德语" href="javascript:onLangChanged('德语');" title="德语">
                德语
              </a>
              
              <a class="library-item item-langs item-langs-意大利语" href="javascript:onLangChanged('意大利语');" title="意大利语">
                意大利语
              </a>
              
              <a class="library-item item-langs item-langs-泰语" href="javascript:onLangChanged('泰语');" title="泰语">
                泰语
              </a>
              
              <a class="library-item item-langs item-langs-西班牙语" href="javascript:onLangChanged('西班牙语');" title="西班牙语">
                西班牙语
              </a>
              
              <a class="library-item item-langs item-langs-葡萄牙语" href="javascript:onLangChanged('葡萄牙语');" title="葡萄牙语">
                葡萄牙语
              </a>
              
              <a class="library-item item-langs item-langs-印地语" href="javascript:onLangChanged('印地语');" title="印地语">
                印地语
              </a>
              
              <a class="library-item item-langs item-langs-泰米尔语" href="javascript:onLangChanged('泰米尔语');" title="泰米尔语">
                泰米尔语
              </a>
              
              <a class="library-item item-langs item-langs-俄语" href="javascript:onLangChanged('俄语');" title="俄语">
                俄语
              </a>
              
              <a class="library-item item-langs item-langs-其它" href="javascript:onLangChanged('其它');" title="其它">
                其它
              </a>
              
            </div>
          </div>
        </div>
        <div class="library-box scroll-box">
          <div class="scroll-content">
            <a class="library-item library-item-first item-years item-years-all selected" href="javascript:onYearChanged('');">
              全部时间
            </a>
            <div class="library-list">
              
              <a class="library-item item-years item-years-2023" href="javascript:onYearChanged('2023');" title="2023">
                2023
              </a>
              
              <a class="library-item item-years item-years-2022" href="javascript:onYearChanged('2022');" title="2022">
                2022
              </a>
              
              <a class="library-item item-years item-years-2021" href="javascript:onYearChanged('2021');" title="2021">
                2021
              </a>
              
              <a class="library-item item-years item-years-2020" href="javascript:onYearChanged('2020');" title="2020">
                2020
              </a>
              
              <a class="library-item item-years item-years-2019" href="javascript:onYearChanged('2019');" title="2019">
                2019
              </a>
              
              <a class="library-item item-years item-years-2018" href="javascript:onYearChanged('2018');" title="2018">
                2018
              </a>
              
              <a class="library-item item-years item-years-2017" href="javascript:onYearChanged('2017');" title="2017">
                2017
              </a>
              
              <a class="library-item item-years item-years-2016" href="javascript:onYearChanged('2016');" title="2016">
                2016
              </a>
              
              <a class="library-item item-years item-years-2015" href="javascript:onYearChanged('2015');" title="2015">
                2015
              </a>
              
              <a class="library-item item-years item-years-2014" href="javascript:onYearChanged('2014');" title="2014">
                2014
              </a>
              
              <a class="library-item item-years item-years-2013" href="javascript:onYearChanged('2013');" title="2013">
                2013
              </a>
              
              <a class="library-item item-years item-years-2012" href="javascript:onYearChanged('2012');" title="2012">
                2012
              </a>
              
              <a class="library-item item-years item-years-2011" href="javascript:onYearChanged('2011');" title="2011">
                2011
              </a>
              
              <a class="library-item item-years item-years-2010" href="javascript:onYearChanged('2010');" title="2010">
                2010
              </a>
              
              <a class="library-item item-years item-years-2009" href="javascript:onYearChanged('2009');" title="2009">
                2009
              </a>
              
              <a class="library-item item-years item-years-2008" href="javascript:onYearChanged('2008');" title="2008">
                2008
              </a>
              
              <a class="library-item item-years item-years-2007" href="javascript:onYearChanged('2007');" title="2007">
                2007
              </a>
              
              <a class="library-item item-years item-years-2006" href="javascript:onYearChanged('2006');" title="2006">
                2006
              </a>
              
              <a class="library-item item-years item-years-2005" href="javascript:onYearChanged('2005');" title="2005">
                2005
              </a>
              
            </div>
          </div>
        </div>
        <div class="library-box scroll-box">
          <div class="scroll-content">
            <div class="library-list">
              <a href="javascript:onSortChanged('time');" class="library-item item-sort item-sort-time selected" title="按时间排序">
                时间排序
              </a>
              <a class="library-item item-sort item-sort-score library-item-first" href="javascript:onSortChanged('score');" title="按评分排序">
                评分排序
              </a>
            </div>
          </div>
        </div>
        
        <div class="library-box">
          <h2 class="library-stat">
            影片库为你选出 0 部影片
        </h2>
      </div>
    </div>
  </div>
  <div class="module">
    <div class="module-list pianku-videos">
      <div class="module-items">

      </div>
    </div>
    <div class="module-footer">
      <div id="page">

      </div>
    </div>
    <script type="text/javascript" src="statics/js/nodetpl.client.min.js"></script>
    <script type="text/javascript">
      let querys = urlParams(location.href);
      let type = querys.type;

      let relative_path = ``;
      const page_tpl = document.getElementById("page_tpl").innerHTML;
      const video_tpl = document.getElementById("video_tpl").innerHTML;

      let videosWrap = [];
      let sortBy = '';
      let filterYear = '';
      let filterTag = '';
      let filterArea = '';
      let filterLang = '';

      let psize = 24;
      let pages = 0;
      let currentVideos = [];
      let currentPageVideos = [];
      let currentIndex = 0;

      function renderVideos(videos) {
        nodetpl.render(video_tpl, {
            videos: videos,
            relative_path: relative_path
          },
          function(d) {
            $(".module-items").html(d);
          });
      }

      function renderPage(pages, index) {
        nodetpl.render(page_tpl, {
            pages: pages
          },
          function(d) {
            $("#page").html(d);
            $(".page-select").removeClass("page-current");
            $(`.page-select-${index}`).addClass("page-current");
          });
      }

      function onPageChange(index) {
        if (pages == 0) {
          $("#page").html('');
          $(".module-items").html('');
          return;
        }
        if (index < 0 || index >= pages) {
          return;
        }
        currentIndex = index;
        currentPageVideos = currentVideos.slice(psize * index, psize * (index + 1));
        renderVideos(currentPageVideos);
        renderPage(pages, index);
      }

      function onTypeChanged(t) {
        type = t;
        $(".library-item-type").removeClass("selected");
        $(`.type-${t}`).addClass("selected");
        onDataFiltered();
      }

      function onYearChanged(data) {
        filterYear = data;
        $(".item-years").removeClass("selected");
        let x = data && data.length > 0 ? data : 'all';
        $(`.item-years-${x}`).addClass("selected");
        onDataFiltered();
      }

      function onLangChanged(data) {
        filterLang = data;
        $(".item-langs").removeClass("selected");
        let x = data && data.length > 0 ? data : 'all';
        $(`.item-langs-${x}`).addClass("selected");
        onDataFiltered();
      }

      function onAreaChanged(data) {
        filterArea = data;
        $(".item-areas").removeClass("selected");
        let x = data && data.length > 0 ? data : 'all';
        $(`.item-areas-${x}`).addClass("selected");
        onDataFiltered();
      }

      function onTagChanged(data) {
        filterTag = data;
        $(".item-tags").removeClass("selected");
        let x = data && data.length > 0 ? data : 'all';
        $(`.item-tags-${x}`).addClass("selected");
        onDataFiltered();
      }

      function onSortChanged(data) {
        this.sortBy = data;
        $(".item-sort").removeClass("selected");
        $(`.item-sort-${data}`).addClass("selected");
      }

      function onDataFiltered() {
        currentVideos = videosWrap.filter((i) => {
          let typeF = i.type == type;
          let yearF = filterYear.length > 0 ? (i.tags.indexOf(filterYear) >= 0 || i.intro.screening.indexOf(filterYear) >= 0) : true;
          let tagF = filterTag.length > 0 ? i.tags.indexOf(filterTag) >= 0 : true;
          let areaF = filterArea.length > 0 ? i.tags.indexOf(filterArea) >= 0 : true;
          let langF = filterLang.length > 0 ? i.tags.indexOf(filterLang) >= 0 : true;
          return typeF && yearF && tagF && areaF && langF;
        });
        let len = currentVideos.length;
        $(".library-stat").html(`影片库为你选出 ${len} 部影片`);
        pages = len % psize == 0 ? len / psize : Math.ceil(len / psize);
        onPageChange(0);
      }

      $(() => {
        $.getJSON("js/ctags.json", (data) => {
          let arr = data && data.length > 0 ? data : [];
          videosWrap = indexDB.filter((i) => i.type != "doc").map((item) => {
            let intro = arr.find((i) => i.pash == item.pash && i.tag == "intro");
            item.intro = intro ? intro.config : {};
            return item;
          });
          onTypeChanged(type);
        });
      });
    </script>
  </div>
  </div>
</main>
                <div id="friendlink" class="wrapper">
  <div class="content pc">
    <h2>
      友情链接：
    </h2>
    
    <a target="_blank" href="https://www.1991th.com/">
      风之谷
    </a>
    
    <a target="_blank" href="https://www.echo.engineer/">
      回声嘹亮
    </a>
    
  </div>
</div>
<footer id="footer" class="wrapper app">
  <p class="sitemap">
    <a href="index">首页</a>
    <span class=" space-line-bold "></span>
    <a href="about">关于</a>
    <span class=" space-line-bold "></span>
    <a href="videos?type=movie">片库</a>
    
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class=" space-line-bold "></span>
    <span>页面：<span id="busuanzi_value_page_pv">0</span></span>
    <span class=" space-line-bold "></span>
    <span>站点：<span id="busuanzi_value_site_uv">0</span>/<span id="busuanzi_value_site_pv">0</span></span>
    
  </p>
  <p class="">本站所有内容均来自互联网分享站点所提供的公开引用资源，未提供影视资源上传、存储服务。</p>
</footer>
<script>
  $(() => {
    if (location.href.indexOf("inDebug") > 0) {
      $.getScript('https://unpkg.com/vconsole@latest/dist/vconsole.min.js', function() {
        new window.VConsole();
      });
    }
    $(".popup").remove();
    $(".shortcuts-m-overlay").remove();
  });
</script>
</body>

</html>